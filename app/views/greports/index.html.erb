<p id="notice"><%= notice %></p>
<div class="row">
  <div class="col-xs-6">
     <div id="container" style="width:100%; height:400px;"></div>
  </div>
  <div class = "col-xs-6">
    <div id="container1" style="width:100%; height:400px;"></div>
  </div>
</div>


<div class="row">
 <div class="container">
    <div class="col-cs-6">
        <script>
          $(function () {
            $('#container1').highcharts({
                chart: {
                    type: 'pie'
                },
                title: {
                    text: 'Students Result'
                },
                xAxis: {
                    categories: ['Pass','Fail']
                  //categories: ['Apples', 'Bananas', 'Oranges']
                },
                yAxis: {
                    title: {
                        text: 'Passed Students'
                    }
                },
              tooltip: {
            pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
        },
        plotOptions: {
            pie: {
                allowPointSelect: true,
                cursor: 'pointer',
                dataLabels: {
                    enabled: true,
                    format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                    style: {
                        color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                    }
                }
            }
        },

                series: [{

                    data:[{
                      name: 'Passed',
                      y: <%=  Greport.total_passed().to_i %>
                }, {
                    name: 'Failed',
                    y:  <%= Greport.total_failed().to_i  %>
                }]
                }]
            });
        });
        </script>
    </div>
  </div>
  <div class="container">
    <div class="col-sx-6">
      <script>
       $(function () {
    // Create the chart
    $('#container').highcharts({
        chart: {
            type: 'column'
        },
        title: {
            text: 'Browser market shares. January, 2015 to May, 2015'
        },
        subtitle: {
            text: 'Click the columns to view versions. Source: <a href="http://netmarketshare.com">netmarketshare.com</a>.'
        },
        xAxis: {
            type: 'category'
            categories:  <%= Greport.toppernames().to_s %>
        },
        yAxis: {
            title: {
                text: 'Percentage'
            }

        },
        legend: {
            enabled: false
        },
        plotOptions: {
            series: {
                borderWidth: 0,
                dataLabels: {
                    enabled: true,
                    format: '{point.y:.1f}%'
                }
            }
        },

        tooltip: {
            headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
            pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y:.2f}%</b> of total<br/>'
        },

        series: [{
            name: 'Brands',
            colorByPoint: true,
            data:  <%= Greport.toppers() %>
        }],
        drilldown: {
            series: [{
                name: 'Microsoft Internet Explorer',
                id: 'Microsoft Internet Explorer',
                data: [
                    [
                        'v11.0',
                        24.13
                    ],
                    [
                        'v8.0',
                        17.2
                    ],
                    [
                        'v9.0',
                        8.11
                    ],
                    [
                        'v10.0',
                        5.33
                    ],
                    [
                        'v6.0',
                        1.06
                    ],
                    [
                        'v7.0',
                        0.5
                    ]
                ]
            }, {
                name: 'Chrome',
                id: 'Chrome',
                data: [
                    [
                        'v40.0',
                        5
                    ],
                    [
                        'v41.0',
                        4.32
                    ],
                    [
                        'v42.0',
                        3.68
                    ],
                    [
                        'v39.0',
                        2.96
                    ],
                    [
                        'v36.0',
                        2.53
                    ],
                    [
                        'v43.0',
                        1.45
                    ],
                    [
                        'v31.0',
                        1.24
                    ],
                    [
                        'v35.0',
                        0.85
                    ],
                    [
                        'v38.0',
                        0.6
                    ],
                    [
                        'v32.0',
                        0.55
                    ],
                    [
                        'v37.0',
                        0.38
                    ],
                    [
                        'v33.0',
                        0.19
                    ],
                    [
                        'v34.0',
                        0.14
                    ],
                    [
                        'v30.0',
                        0.14
                    ]
                ]
            }, {
                name: 'Firefox',
                id: 'Firefox',
                data: [
                    [
                        'v35',
                        2.76
                    ],
                    [
                        'v36',
                        2.32
                    ],
                    [
                        'v37',
                        2.31
                    ],
                    [
                        'v34',
                        1.27
                    ],
                    [
                        'v38',
                        1.02
                    ],
                    [
                        'v31',
                        0.33
                    ],
                    [
                        'v33',
                        0.22
                    ],
                    [
                        'v32',
                        0.15
                    ]
                ]
            }, {
                name: 'Safari',
                id: 'Safari',
                data: [
                    [
                        'v8.0',
                        2.56
                    ],
                    [
                        'v7.1',
                        0.77
                    ],
                    [
                        'v5.1',
                        0.42
                    ],
                    [
                        'v5.0',
                        0.3
                    ],
                    [
                        'v6.1',
                        0.29
                    ],
                    [
                        'v7.0',
                        0.26
                    ],
                    [
                        'v6.2',
                        0.17
                    ]
                ]
            }, {
                name: 'Opera',
                id: 'Opera',
                data: [
                    [
                        'v12.x',
                        0.34
                    ],
                    [
                        'v28',
                        0.24
                    ],
                    [
                        'v27',
                        0.17
                    ],
                    [
                        'v29',
                        0.16
                    ]
                ]
            }]
        }
    });
});
        </script>
  </div>
</div>
</div>
<!--<h1>Generate Reports</h1>
<div class="media">
  <div class="media-body">
    <table class="table table-hover">
  <thead>
    <tr>
      <th>Roll</th>
      <th>Name</th>
      <th>Marks obtained</th>
      <th>Marks outof</th>
      <th>Percent</th>
      <th>Year</th>
      <th>Exam</th>
      <th>Sem</th>
      <th>Session</th>
      <th>Batch</th>
      <th>Result</th>
      <th>Sgpa</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @greports.each do |greport| %>
      <tr>
        <td><%= greport.roll %></td>
        <td><%= greport.name %></td>
        <td><%= greport.marksobt %></td>
        <td><%= greport.marksout %></td>
        <td><%= greport.percent %></td>
        <td><%= greport.year %></td>
        <td><%= greport.exam %></td>
        <td><%= greport.sem %></td>
        <td><%= greport.session %></td>
        <td><%= greport.batch %></td>
        <td><%= greport.result %></td>
        <td><%= greport.sgpa %></td>
        <td><%= link_to 'Show', greport %></td>
        <td><%= link_to 'Edit', edit_greport_path(greport) %></td>
        <td><%= link_to 'Destroy', greport, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>
</div>
</div>
<br>
-->
<div class="media">
  <div class="media-body">
<h2>Import Data</h2>
  <%= form_tag  import_greports_path, multipart: true do %>
  <%= file_field_tag :file %><br>
  <%= submit_tag "Import" %>
<% end %><br>
    [ <%= link_to 'Add new Record', new_greport_path %> ]

  </div>
</div>
